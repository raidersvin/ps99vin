

local v0=game:GetService("Players");local v1=v0.LocalPlayer;while  not v1 do task.wait(1);v1=v0.LocalPlayer;end if ((game.PlaceId==15502339080) or (game.PlaceId==15588442388)) then else local v100=game:GetService("TeleportService");local v101=15502339080;v100:Teleport(v101,game.Players.LocalPlayer);return;end task.spawn(function() task.wait(30);local v23=getgenv().Settings_autoplaza.send_gem;local v24=v23.time_swap_plaza * 60 ;task.wait(v24);local v25=game:GetService("HttpService");local v26=game:GetService("TeleportService");local v27=game:GetService("Players").LocalPlayer;local v28=math.random;local function v29(v102,v103,v104) v103=v103 or 5 ;local v105=0;local v106=15;local function v107() return game:GetService("Players").LocalPlayer.Team or "Unknown" ;end while v105<v103  do v105+=1 local v138,v139=pcall(function() return v25:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"   .. v102   .. "/servers/Public?sortOrder=Desc&limit=100&excludeFullServers=true" )).data;end);if (v138 and v139 and ( #v139>0)) then local v192={};for v212,v213 in ipairs(v139) do if ((v213.playing>=v106) and (v213.playing<v213.maxPlayers)) then local v239=false;for v251,v252 in ipairs(v213.players) do if table.find(v104,v252) then v239=true;break;end end if  not v239 then table.insert(v192,v213);end end end if ( #v192>0) then local v225=math.min(10, #v192);local v226=math.min(20, #v192);local v227=v28(v225,v226);local v228=v192[v227];local v229,v230=pcall(function() v26:TeleportToPlaceInstance(v102,v228.id,v27);end);if v229 then print("Teleport thành công đến server:",v228.id);local v253=v107();task.wait(3);if (v107()==v253) then print("Không chuyển đến server mới, thử lại teleport.");table.remove(v192,v227);if ( #v192>0) then local v266=v28(1, #v192);return v29(v102,v103,v104);else print("Không còn server hợp lệ để thử teleport.");return false;end else return true;end else warn("Teleport thất bại, thử lại... (Lỗi: "   .. tostring(v230)   .. ")" );end else print("Không có server hợp lệ!");end else warn("Không thể lấy danh sách server! Thử lại lần "   .. v105 );end task.wait(2);end warn("Không thể teleport sau "   .. v103   .. " lần thử!" );return false;end local v30={8613131140,7361858750,8613108751,8613092285,8613124511,8613147596,7361855786,8613157558,8613138579,8613140108,6176087028,8613170574,8613088825,7361856788,6176097479};task.wait(1);v29(15502339080,25,v30);end);task.spawn(function() task.wait(25);local v31=game:GetService("VirtualInputManager");while true do game:GetService("ReplicatedStorage").Network["Mailbox: Claim All"]:InvokeServer();task.wait(300);v31:SendKeyEvent(true,Enum.KeyCode.Space,false,game);task.wait(0.1);v31:SendKeyEvent(false,Enum.KeyCode.Space,false,game);end end);local function v2(v32) local v33={b=1000000000,m=1000000,k=1000};local v34,v35=v32:match("([%d%.]+)([bmk])");if (v34 and v35 and v33[v35]) then return tonumber(v34) * v33[v35] ;else return tonumber(v32);end end task.spawn(function() task.wait(20);local v36={"Happy Birthday %s!","Hope today brings %s!","Wishing you luck %s!","Congrats on your %s!","Give away %s!","You are amazing %s — here's a gift!"};local v37=getgenv().Settings_autoplaza.send_gem;if (v37.Play_mail==false) then return;end local v38=v37.User_name_mail;local v39=v2(v37.gem_mail);local v40=game:GetService("ReplicatedStorage");local v41=game:GetService("Players");local v42=v41.LocalPlayer;local v43=v40:WaitForChild("Library"):WaitForChild("Client");local v44=require(v43.Network);local v45=require(v43.Save).Get();while true do local v108=v42:WaitForChild("leaderstats"):WaitForChild("💎 Diamonds");local v109=nil;for v140,v141 in pairs(v45.Inventory['Currency']) do if (v141.id=="Diamonds") then v109=v140;break;end end if  not v109 then return;end if (v37.Play_mail and (v108.Value>=v39)) then v108.Value=v108.Value-5000000 ;local v169=string.format(v36[math.random(1, #v36)],v38);local v170,v171=pcall(function() return v44.Invoke("Mailbox: Send",v38,v169,"Currency",v109,v108.Value);end);if v170 then else end else end task.wait(30);end end);local v3=0;local v4=game:GetService("RunService");local v5=game:GetService("ReplicatedStorage");local v6=game:GetService("HttpService");local v7="https://ps99.biggamesapi.io/api/rap";local function v8() local v46,v47;if request then local v142=request({Url=v7,Method="GET",Headers={["Content-Type"]="application/json"}});v46=v142.Body;v47=v142.StatusCode;elseif (syn and syn.request) then local v193=syn.request({Url=v7,Method="GET",Headers={["Content-Type"]="application/json"}});v46=v193.Body;v47=v193.StatusCode;else local v196,v197=pcall(function() return v6:RequestAsync({Url=v7,Method="GET",Headers={["Content-Type"]="application/json"}});end);if  not v196 then return nil;end v46=v197.Body;v47=v197.StatusCode;end if (v47~=200) then return nil;end return v46;end local function v9(v48) local v49,v50=pcall(function() return v6:JSONDecode(v48);end);if  not v49 then return nil;end return v50;end local v10=v8();if  not v10 then return;end local v11=v9(v10);if  not v11 then return;end local function v12(v51,v52,v53,v54,v55) if ((type(v11)~="table") or (type(v11.data)~="table")) then return nil;end local v56={};if (v51 and (v51~="")) then table.insert(v56,"category='"   .. tostring(v51)   .. "'" );end if (v52 and (v52~="")) then table.insert(v56,"id='"   .. tostring(v52)   .. "'" );end if (v53~=nil) then table.insert(v56,"pt="   .. tostring(v53) );end if (v54~=nil) then table.insert(v56,"sh="   .. tostring(v54) );end if (v55~=nil) then table.insert(v56,"tn="   .. tostring(v55) );end if ( #v56==0) then else end for v110,v111 in ipairs(v11.data) do local v112=true;if (v51 and (v51~="")) then if (v111.category~=v51) then v112=false;end end local v113=v111.configData;if (v112 and v52 and (v52~="")) then if ( not v113 or (v113.id~=v52)) then v112=false;end end if v112 then if (v53==nil) then if (v113 and (v113.pt~=nil)) then v112=false;end elseif (v53~=nil) then if ( not v113 or (v113.pt~=v53)) then v112=false;end end end if v112 then if (v54~=nil) then if  not v113 then v112=false;elseif (v54==false) then if (v113.sh==true) then v112=false;end elseif (v113.sh~=v54) then v112=false;end elseif (v113 and (v113.sh~=nil)) then v112=false;end end if (v112 and (v55~=nil)) then if ( not v113 or (v113.tn~=v55)) then v112=false;end end if v112 then return v111.value;end end return nil;end local function v13() local v57=nil;local v58=v1.PlayerGui:WaitForChild("BoothPrompt"):WaitForChild("Frame");local v59=nil;for v114,v115 in ipairs(v58:GetDescendants()) do if (v115:IsA("TextLabel") and v115.Text:match("^%d+/%d+$")) then v59=v115.Text;break;end end if v59 then local v145,v146=v59:match("^(%d+)/(%d+)$");v57=tonumber(v145);if v57 then else end else end return v57;end local function v14(v60) if  not v60.Character then v60.CharacterAdded:Wait();end local v61=v60.Character:FindFirstChild("HumanoidRootPart");while  not v61 do v4.Heartbeat:Wait();v61=v60.Character:FindFirstChild("HumanoidRootPart");end return v61;end local function v15() local v62=workspace:FindFirstChild("TradingPlaza");if  not v62 then return nil,nil;end local v63=v62:FindFirstChild("BoothSpawns");if  not v63 then return nil,nil;end for v116,v117 in ipairs(v63:GetChildren()) do local v118=false;for v147,v148 in ipairs(v117:GetChildren()) do if v148:IsA("Model") then v118=true;break;end end if  not v118 then local v173=v117:GetAttribute("ID");if v173 then return v173,v117;else end end end return nil,nil;end local function v16(v64) local v65;if v64:IsA("BasePart") then local v149=v64.CFrame.Position;local v150=v64.CFrame-v64.CFrame.Position ;v65=CFrame.new(v149.X-1 ,v149.Y,v149.Z-5 ) * v150 ;elseif v64:IsA("Model") then local v200=v64.PrimaryPart or v64:FindFirstChildWhichIsA("BasePart") ;if v200 then local v231=v200.CFrame.Position;local v232=v200.CFrame-v200.CFrame.Position ;v65=CFrame.new(v231.X-1 ,v231.Y,v231.Z-5 ) * v232 ;end end if  not v65 then return false;end local v66=v14(v1);v66.CFrame=v65;task.wait(1);return true;end local function v17(v68) local v69=v5:WaitForChild("Network"):WaitForChild("Booths_ClaimBooth");local v70,v71=pcall(function() return v69:InvokeServer(tostring(v68));end);if v70 then else end end local v18={};v18.GetItemsByName=function(v72,v73) local v74=game:GetService("ReplicatedStorage");local v75=require(v74.Library.Client.Save).Get();local v76={};local function v77(v119,v120,v121,v122,v123,v124) if (type(v119)~="table") then return;end for v151,v152 in pairs(v119) do if ((type(v152)=="table") and v152.id) then if string.match(v152.id,"^"   .. v120   .. "$" ) then local v233=true;if ((v122~=nil) and (v152.pt~=v122)) then v233=false;end if ((v122==nil) and (v152.pt==1)) then v233=false;end if ((v122==nil) and (v152.pt==2)) then v233=false;end if ((v123==true) and (v152.sh==nil)) then v233=false;end if ((v123==nil) and (v152.sh==true)) then v233=false;end if ((v124~=nil) and (v152.tn~=v124)) then v233=false;end if v233 then table.insert(v76,{UID=v151,ID=v152.id,PT=v152.pt,SH=v152.sh,TN=v152.tn,Count=tonumber(v152._am) or 1 ,Category=v121});end end end end end local v73,v78,v79,v80,v81=Kiem_tra_ten_co_them_tu_la_(v73);v77(v75.Inventory.Pet,v73,"Pet",v79,v78,v80);if ( #v76==0) then local v153={{name="Hoverboard",category="Hoverboard"},{name="Consumable",category="Consumable"},{name="Potion",category="Potion"},{name="Charm",category="Charm"},{name="Misc",category="Misc"},{name="Egg",category="Egg"},{name="Booth",category="Booth"},{name="Enchant",category="Enchant"},{name="Lootbox",category="Lootbox"},{name="Seed",category="Seed"},{name="Ultimate",category="Ultimate"},{name="XPPotion",category="XPPotion"}};if ((v81=="Potion") or (v81=="Enchant") or (v81=="XPPotion")) then local v201={name=v81,category=v81};end for v174,v175 in ipairs(v153) do v77(v75.Inventory[v175.name],v73,v175.category,v79,v78,v80);end end if ( #v76==0) then warn("Khong tim thay vat pham nao voi ten chua '"   .. tostring(v73)   .. "'" );else for v176,v177 in ipairs(v76) do local v178=v12(v177.Category,v177.ID,v177.PT,v177.SH,v177.TN);local v179=v178 or 0 ;if (type(priceRaw)=="number") then v179=priceRaw;elseif (type(priceRaw)=="string") then local v240=priceRaw:match("^[+]?[%d%.]+%%$");if v240 then local v256=priceRaw:sub(1,1);local v257=tonumber(priceRaw:match("[%d%.]+"));if v257 then if (v256=="+") then v179=v179 + ((v179 * v257)/100) ;v179=math.floor(v179);else v179=v179-((v179 * v257)/100) ;v179=math.floor(v179);end else end else local v258=v2(priceRaw);if v258 then v179=v258;else end end end local v180=tostring(v177.UID);local v181=v179 or 0 ;local v182=tonumber(v177.Count) or 1 ;local v183=0;while true do if (v182>50000) then v183=v182-50000 ;v182=50000;end task.wait(1);game:GetService("ReplicatedStorage").Network.Booths_CreateListing:InvokeServer(v180,math.floor(v181),v182);task.wait(2);if (v183>0) then v182=v183;v183=0;else break;end end v3=v3 + 1 ;if (v3==25) then while true do local v234=v13();if (v234<25) then v3=v234;break;end task.wait(60);end end end end return v76;end;function Kiem_tra_ten_co_them_tu_la_(v82) local v83=nil;local v84=nil;local v85=nil;local v86=nil;if string.find(v82,"Shiny") then v83=true;v82=string.gsub(v82,"Shiny ","");end if string.find(v82,"Golden") then v84=1;v82=string.gsub(v82,"Golden ","");end if string.find(v82,"Rainbow") then v84=2;v82=string.gsub(v82,"Rainbow ","");end if string.find(v82,"Shiny Golden") then v83=true;v84=1;v82=string.gsub(v82,"Shiny Golden ","");end if string.find(v82,"Shiny Rainbow") then v83=true;v84=2;v82=string.gsub(v82,"Shiny Rainbow ","");end local v87=v82:match("TN(%d)");if v87 then v85=tonumber(v87);v82=string.gsub(v82," TN%d","");end if string.find(v82,"Enchant") then v86="Enchant";v82=string.gsub(v82,"Enchant ","");end if string.find(v82,"XPPotion") then v86="XPPotion";v82=string.gsub(v82,"XPPotion ","");end if string.find(v82,"Potion") then v86="Potion";v82=string.gsub(v82,"Potion ","");end return v82,v83,v84,v85,v86;end local function v20(v88) local v89=nil;local v90=getgenv().Settings_autoplaza and getgenv().Settings_autoplaza['Items'] ;if (type(v90)~="table") then warn("⚠️ Không thể lấy danh sách Items từ Settings");return;end for v125,v126 in ipairs(v90) do if (v126.Name==v88) then v89=v126.Data;break;end end if  not v89 then warn("❌ Không tìm thấy item: "   .. tostring(v88) );return;end warn("🛒 Đang xử lý item:",v88);priceRaw=v89.Price;Min_sell=v89.Min_sell;Max_sell=v89.Max_sell;sold_by_convention=v89.sold_by_convention;if string.find(v88,"All Huges") then local v154,v155,v156=Kiem_tra_ten_co_them_tu_la_(v88);local v157=require(v5.Library.Client.Save).Get();local v158={};v158.GetPets=function(v185) local v186={};for v202,v203 in pairs(v157.Inventory.Pet) do if string.find(v203.id,"Huge") then local v235=true;if ((v156~=nil) and (v203.pt~=v156)) then v235=false;end if ((v156==nil) and (v203.pt==1)) then v235=false;end if ((v156==nil) and (v203.pt==2)) then v235=false;end if ((v155==true) and (v203.sh==nil)) then v235=false;end if ((v155==nil) and (v203.sh==true)) then v235=false;end if v235 then table.insert(v186,{UID=v202,ID=v203.id,PT=v203.pt,SH=v203.sh});end end end return v186;end;local v160=v158:GetPets();if ( #v160==0) then else local v204={};for v214,v215 in ipairs(v160) do local v216=v12("Pet",v215.ID,v215.PT,v215.SH,nil);if v216 then end local v217=v216;local v218=v89.Price;local v219=v89.Min_sell;local v220=v89.Max_sell;local v221=0;local v222=0;v219=v2(v219);v220=v2(v220);if (type(v218)=="number") then v217=v218;elseif (type(v218)=="string") then local v259=v218:match("^[+]?[%d%.]+%%$");if v259 then local v263=v218:sub(1,1);local v264=tonumber(v218:match("[%d%.]+"));if  not v264 then return;end if (v263=="+") then if ((v217==nil) or  not v217) then v217=v220;end v217=v217 + ((v217 * v264)/100) ;v217=math.floor(v217);else if ((v217==nil) or  not v217) then v217=v220;end v217=v217-((v217 * v264)/100) ;v217=math.floor(v217);end else local v265=v2(v218);if v265 then v217=v265;else return;end end end if ((v219~=nil) and (v220~=nil)) then if (v219>v217) then v217=v219;end if (v220<v217) then v217=v220;end end if (sold_by_convention==true) then table.insert(v204,{UID_sell=v215.UID,valFinal_sell=v217});else local v241=tostring(v215.UID);local v242=v217 or 0 ;task.wait(1);game:GetService("ReplicatedStorage").Network.Booths_CreateListing:InvokeServer(v241,math.floor(v242),1);task.wait(2);v3=v3 + 1 ;if (v3==25) then while true do local v260=v13();if (v260<25) then v3=v260;break;end task.wait(60);end end end end if (sold_by_convention==true) then table.sort(v204,function(v243,v244) return v243.valFinal_sell<v244.valFinal_sell ;end);for v245,v246 in ipairs(v204) do local v247=v246.UID_sell;local v248=v246.valFinal_sell;task.wait(1);game:GetService("ReplicatedStorage").Network.Booths_CreateListing:InvokeServer(v247,math.floor(v248),1);task.wait(2);v3=v3 + 1 ;if (v3==25) then while true do local v261=v13();if (v261<25) then v3=v261;break;end task.wait(60);end end end end end end if (string.find(v88,"All Huges")==nil) then local v161=v18:GetItemsByName(v88);end end local function v21() local v95=getgenv().Settings_autoplaza['Items'];for v127,v128 in ipairs(v95) do wait(1);v20(v128.Name);end end if getgenv().Settings_autoplaza.xoa_Map then local v129=game:GetService("Players");local v130=game:GetService("Workspace");if (workspace:FindFirstChild("__THINGS") and workspace.__THINGS:FindFirstChild("Booths")) then for v205,v206 in ipairs(workspace.__THINGS.Booths:GetChildren()) do v206:Destroy();end end local v131=v130:FindFirstChild("TradingPlaza") and v130.TradingPlaza:FindFirstChild("VIP Parts") ;if v131 then v131:Destroy();end local v132=v130:FindFirstChild("TradingPlaza") and v130.TradingPlaza:FindFirstChild("INTERACT") ;if v132 then v132:Destroy();end local v133=workspace:WaitForChild("TradingPlaza"):WaitForChild("Parts");for v162,v163 in ipairs(v133:GetDescendants()) do if (v163.Name=="Waterfall") then v163:Destroy();end end local function v134() for v187,v188 in ipairs(v130:GetDescendants()) do if v188:IsA("BasePart") then v188.Transparency=1;v188.CastShadow=false;elseif (v188:IsA("Decal") or v188:IsA("Texture")) then v188.Transparency=1;end end end v134();local function v135() for v189,v190 in ipairs(v129:GetPlayers()) do if ((v190~=LocalPlayer) and v190.Character) then for v236,v237 in ipairs(v190.Character:GetDescendants()) do if v237:IsA("BasePart") then v237.Transparency=1;v237.CanCollide=false;elseif (v237:IsA("Decal") or v237:IsA("Texture")) then v237.Transparency=1;elseif (v237:IsA("Accessory") and v237:FindFirstChild("Handle")) then v237.Handle.Transparency=1;end end end end end v129.PlayerAdded:Connect(function(v164) v164.CharacterAdded:Connect(function() task.wait(1);v135();end);end);end while true do game:GetService("ReplicatedStorage").Network.Booths_DiscardBooth:InvokeServer();local v96,v97=v15();if ( not v96 or  not v97) then warn("Da ngung: Khong co boothID hoac spawnPoint hop le\n");else local v165=v16(v97);if v165 then v17(v96);wait(1);local v207=game:GetService("VirtualInputManager");v207:SendKeyEvent(true,Enum.KeyCode.E,false,game);task.wait(0.1);v207:SendKeyEvent(false,Enum.KeyCode.E,false,game);wait(1);else warn("???? "   .. v165 );end end local v98=game:GetService("Players").LocalPlayer.PlayerGui:WaitForChild("BoothPrompt"):WaitForChild("Frame");local v99=nil;for v136,v137 in ipairs(v98:GetDescendants()) do if (v137:IsA("TextLabel") and v137.Text:match("^%d+/%d+$")) then v99=v137.Text;break;end end if v99 then warn(v99);local v166,v167=v99:match("^(%d+)/(%d+)$");if (tonumber(v167)>5) then local v208=tonumber(v167);local v209=25;if (v208 and (v208<v209)) then local v238=v209-v208 ;for v250=1,v238 do game:GetService("ReplicatedStorage").Network.BoothSlotVoucher_Consume:InvokeServer();task.wait(2);end else end break;end end wait(3);end if getgenv().Settings_autoplaza.xoa_Map then if (workspace:FindFirstChild("TradingPlaza") and workspace.TradingPlaza:FindFirstChild("BoothSpawns")) then for v210,v211 in ipairs(workspace.TradingPlaza.BoothSpawns:GetChildren()) do v211:Destroy();end end end v21();
